<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SO Prov Alfred - 100 Fr√•gor (Vikingatiden)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-brown: #5D4037;
            --secondary-brown: #8D6E63;
            --light-beige: #EFEBE9;
            --paper-bg: #FBE9E7;
            --accent-gold: #FFD700;
            --text-dark: #3E2723;
            --success-green: #2E7D32;
        }

        body {
            font-family: 'Roboto Slab', serif;
            background-color: var(--primary-brown);
            background-image: radial-gradient(circle, #6d4c41 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-dark);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        h1, h2, h3 {
            font-family: 'Cinzel Decorative', cursive;
            text-align: center;
            margin: 10px 0;
        }

        h1 {
            color: var(--accent-gold);
            text-shadow: 2px 2px 0px #3e2723;
            font-size: 2.2em;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--paper-bg);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.6);
            border: 4px solid var(--secondary-brown);
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- TABS --- */
        .tabs {
            display: flex;
            background-color: var(--secondary-brown);
        }

        .tab-button {
            flex: 1;
            padding: 15px;
            font-family: 'Cinzel Decorative', cursive;
            font-size: 1.1em;
            border: none;
            background-color: var(--secondary-brown);
            color: var(--light-beige);
            cursor: pointer;
            transition: 0.3s;
            border-bottom: 5px solid transparent;
        }

        .tab-button.active {
            background-color: var(--paper-bg);
            color: var(--text-dark);
            border-bottom: 5px solid var(--accent-gold);
        }

        .tab-content {
            display: none;
            padding: 20px;
            flex-grow: 1;
            animation: fadeIn 0.5s;
        }

        .tab-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- INFO TEXT STYLING --- */
        .info-section h2 { border-bottom: 2px solid var(--secondary-brown); color: var(--primary-brown); }
        .fact-box {
            background-color: #FFF3E0;
            border-left: 5px solid var(--accent-gold);
            padding: 10px;
            margin: 10px 0;
            font-size: 0.95em;
        }
        .image-spaning {
            background-color: #E0F2F1;
            border: 1px solid #80CBC4;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-top: 5px;
        }
        .image-spaning::before { content: "üîç BILDSPANING: "; font-weight: bold; color: #00695C; }

        /* --- QUIZ STYLING --- */
        .quiz-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            min-height: 500px;
        }

        .flash-card-container {
            width: 100%;
            max-width: 500px;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .flash-card {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .flash-card.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            border-radius: 15px;
            border: 3px solid var(--primary-brown);
        }

        .card-front {
            background: linear-gradient(135deg, var(--secondary-brown), var(--primary-brown));
            color: #fff;
        }

        .card-back {
            background-color: #fff;
            color: var(--text-dark);
            transform: rotateY(180deg);
        }

        .question-text { font-size: 1.4em; font-weight: bold; }
        .answer-text { font-size: 1.3em; color: var(--primary-brown); font-weight: bold; }
        .category-tag {
            position: absolute;
            top: 10px;
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.7;
        }

        /* --- CONTROLS --- */
        .controls {
            display: flex;
            gap: 10px;
            width: 100%;
            max-width: 500px;
        }

        .btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-family: 'Roboto Slab', serif;
            font-weight: bold;
            cursor: pointer;
            flex: 1;
            font-size: 1em;
            transition: 0.2s;
        }

        .btn-prev { background-color: var(--light-beige); color: var(--text-dark); }
        .btn-next { background-color: var(--success-green); color: white; }
        .btn-shuffle { background-color: var(--accent-gold); color: var(--text-dark); flex: 0.5; }
        .btn:active { transform: scale(0.98); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .auto-play-wrapper {
            margin-top: 15px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.5);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* PROGRESS BAR */
        .progress-container {
            width: 100%;
            max-width: 500px;
            height: 10px;
            background-color: #ccc;
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--success-green);
            width: 0%;
            transition: width 0.3s;
        }

    </style>
</head>
<body>

    <header>
        <h1>Vikingatiden</h1>
        <h3 style="color: var(--light-beige);">SO-Prov Alfred | 100 Fr√•gor</h3>
    </header>

    <div class="container">
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('info')">Sammanfattning</button>
            <button class="tab-button" onclick="openTab('quiz')">Starta F√∂rh√∂ret</button>
        </div>

        <div id="info" class="tab-content active info-section">
            <p>H√§r √§r en sammanfattning av allt material inf√∂r provet (Sidorna 74‚Äì95).</p>
            
            <h2>1. Grundfakta & Livet</h2>
            <p><strong>Tid:</strong> Ca 800‚Äì1050 e.Kr. Slutet av j√§rn√•ldern.<br>
            <strong>Samh√§llet:</strong> De flesta var b√∂nder. √Ñtten (sl√§kten) var viktigast f√∂r trygghet. Tr√§lar var slavar. Husfrun best√§mde √∂ver g√•rden (bar nycklarna).</p>
            <div class="image-spaning">Bilden p√• s. 76 visar att byn hade staket (mot djur), en v√•rdkase (varningseld) och en bef√§stning p√• berget.</div>

            <h2>2. Asatron</h2>
            <p>M√§nniskorna trodde p√• <strong>Asagudar</strong>. Oden (krig), Tor (√•ska), Frej/Freja (fruktbarhet). Man <strong>blotade</strong> (offrade) djur. V√∂lvan kunde sp√• framtiden.</p>
            
            <h2>3. Handel & Birka</h2>
            <p>Birka var "Sveriges f√∂rsta stad" p√• Bj√∂rk√∂. Skyddades av p√•lar i vattnet. H√§r bytte man j√§rn/p√§lsar mot silver/siden. Hantverkare gjorde kammar och p√§rlor.</p>
            <div class="image-spaning">Man har hittat "isl√§ggar" (skridskor av ben) i Birka, troligen f√∂r barn.</div>

            <h2>4. Resor</h2>
            <p><strong>√ñsterut (Ryssland):</strong> Handlade, n√•dde Konstantinopel (Miklag√•rd).<br>
            <strong>V√§sterut (Europa):</strong> Plundrade (Lindisfarne 793) och bosatte sig (Normandie, Danelaw).<br>
            <strong>Atlanten:</strong> Uppt√§ckte Island, Gr√∂nland (Erik R√∂de) och Amerika/Vinland (Leif Eriksson).</p>

            <h2>5. Kristendomen & K√§llor</h2>
            <p>Mission√§ren <strong>Ansgar</strong> kom till Birka. Olof Sk√∂tkonung var f√∂rsta kristna kungen (gjorde mynt). Runstenar restes ofta som kristna minnesm√§rken i slutet.</p>
            <div class="fact-box">Vi vet om vikingatiden genom: Arkeologer (gr√§ver), Osteologer (ben), Runstenar och utl√§ndska skrifter (som munken i Lindisfarne eller araben Ibn Fadlan).</div>
        </div>

        <div id="quiz" class="tab-content">
            <div class="quiz-wrapper">
                <div style="margin-bottom: 5px; font-weight: bold;" id="counter">Fr√•ga 1 av 100</div>
                
                <div class="flash-card-container" onclick="flipCard()">
                    <div class="flash-card" id="card">
                        <div class="card-face card-front">
                            <div class="category-tag" id="category">Kategori</div>
                            <div class="question-text" id="question">Laddar fr√•ga...</div>
                            <div style="font-size: 0.8em; margin-top: 20px; opacity: 0.8;">(Klicka f√∂r svar)</div>
                        </div>
                        <div class="card-face card-back">
                            <div style="font-size: 0.8em; color: #888; margin-bottom: 10px;">R√ÑTT SVAR:</div>
                            <div class="answer-text" id="answer">...</div>
                        </div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-prev" onclick="prevCard()">‚¨ÖÔ∏è Backa</button>
                    <button class="btn btn-shuffle" onclick="shuffleData()">üé≤ Blanda</button>
                    <button class="btn btn-next" onclick="nextCard()">N√§sta ‚û°Ô∏è</button>
                </div>

                <div class="auto-play-wrapper">
                    <input type="checkbox" id="autoplay" onchange="toggleAutoplay()">
                    <label for="autoplay">Snabbl√§ge / Autospelning (G√•r vidare efter 3 sek)</label>
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA: 100 FR√ÖGOR ---
        const fullQuizData = [
            // Kategori: Tidsperiod & Grundfakta
            {cat: "Grundfakta", q: "Mellan vilka √•r varade ungef√§r vikingatiden?", a: "Ca √•r 800 ‚Äì 1050."},
            {cat: "Grundfakta", q: "Vikingatiden √§r slutet p√• en l√§ngre tids√•lder, vilken?", a: "J√§rn√•ldern."},
            {cat: "Grundfakta", q: "Hur l√•ng var vikingatiden?", a: "Cirka 250 √•r."},
            {cat: "Myt vs Sanning", q: "Hade vikingarna horn p√• hj√§lmarna?", a: "Nej, aldrig."},
            {cat: "Myt vs Sanning", q: "Varf√∂r tror m√•nga att de hade horn?", a: "Det hittades p√• under 1800-talet (i operor/konst)."},
            {cat: "Grundfakta", q: "Vad var vikingarnas hj√§lmar gjorda av?", a: "J√§rn."},
            {cat: "Grundfakta", q: "Hur s√•g hj√§lmarnas ansiktsskydd ut?", a: "Som glas√∂gon (av j√§rn) med n√§sskydd."},
            
            // Livet i byn
            {cat: "Samh√§lle", q: "Vad arbetade de allra flesta med?", a: "B√∂nder (jordbruk)."},
            {cat: "Samh√§lle", q: "Vad kallas sl√§kten med ett gammalt ord?", a: "√Ñtten."},
            {cat: "Samh√§lle", q: "Varf√∂r var √§tten s√• viktig?", a: "Det fanns ingen polis. √Ñtten gav skydd och h√§mnd."},
            {cat: "Samh√§lle", q: "Vad kallades vikingarnas slavar?", a: "Tr√§lar."},
            {cat: "Samh√§lle", q: "Hur blev man tr√§l?", a: "Togs tillf√•nga i krig eller f√∂ddes av en tr√§lmor."},
            {cat: "Samh√§lle", q: "Vem best√§mde mest √∂ver sysslorna p√• g√•rden?", a: "Husfrun."},
            {cat: "Samh√§lle", q: "Vad bar husfrun som tecken p√• sin makt?", a: "Nycklarna till f√∂rr√•den i sitt b√§lte."},
            {cat: "Samh√§lle", q: "Vad kallas en rik bonde med mycket makt?", a: "Stormann."},
            {cat: "Barnen", q: "Gick barn i skolan?", a: "Nej."},
            {cat: "Barnen", q: "Hur l√§rde sig barn saker?", a: "Genom att vara med de vuxna i arbetet."},
            {cat: "Samh√§lle", q: "Vad hette m√∂tet d√§r man best√§mde lagar?", a: "Tinget."},
            {cat: "Samh√§lle", q: "Vilka fick vara med p√• tinget?", a: "Alla fria m√§n (inte tr√§lar)."},
            {cat: "Samh√§lle", q: "Vem ledde tinget och kunde lagen utantill?", a: "Lagmannen."},
            {cat: "Samh√§lle", q: "Vad var det h√•rdaste straffet?", a: "Att bli fredl√∂s (landsf√∂rvisad)."},
            {cat: "Samh√§lle", q: "Vad innebar det att vara fredl√∂s?", a: "Vem som helst fick d√∂da dig utan straff."},
            
            // Byggnader & Mat
            {cat: "Livet p√• g√•rden", q: "Vad kallas hustypen de bodde i?", a: "L√•nghus."},
            {cat: "Livet p√• g√•rden", q: "Vad hade husen f√∂r tak?", a: "Gr√§stak (eller torvtak) som gick √§nda ner."},
            {cat: "Livet p√• g√•rden", q: "Vad var en v√•rdkase?", a: "En vedh√∂g p√• ett berg man t√§nde f√∂r att varna f√∂r krig."},
            {cat: "Livet p√• g√•rden", q: "Varf√∂r hade man staket runt √•krarna?", a: "F√∂r att skydda sk√∂rden mot vilda djur."},
            {cat: "Mat", q: "Hur sparade man mat utan frys?", a: "Saltade, torkade, r√∂kte eller gravade den."},
            {cat: "Mat", q: "Vad betyder att 'grava' mat?", a: "Man gr√§ver ner den i jorden (s√• den blir syrad)."},
            {cat: "Mat", q: "Vilka s√§desslag odlade man mest?", a: "Korn, r√•g och havre."},
            {cat: "Mat", q: "Vad drack man till fest?", a: "Mj√∂d (honungsvin)."},
            {cat: "Redskap", q: "Vad √§r ett ljuster?", a: "Ett spetsigt redskap (gaffel) f√∂r att spetsa fisk."},
            {cat: "Redskap", q: "Vad anv√§ndes stenar med h√•l i till vid fiske?", a: "Som tyngder till fisken√§ten."},

            // Asatron
            {cat: "Asatro", q: "Vad kallas religionen?", a: "Asatro."},
            {cat: "Asatro", q: "Vad heter krigsguden (den h√∂gste guden)?", a: "Oden."},
            {cat: "Asatro", q: "Vad heter Odens h√§st?", a: "Sleipner."},
            {cat: "Asatro", q: "Vad √§r speciellt med Sleipner?", a: "Han har √•tta ben."},
            {cat: "Asatro", q: "Vad heter Odens fru?", a: "Frigg."},
            {cat: "Asatro", q: "Vem √§r √•skguden?", a: "Tor."},
            {cat: "Asatro", q: "Vad heter Tors hammare?", a: "Mj√∂lner."},
            {cat: "Asatro", q: "Vad drar Tors vagn?", a: "Tv√• bockar."},
            {cat: "Asatro", q: "Vem √§r fruktbarhetens gud (f√∂r sk√∂rden)?", a: "Frej."},
            {cat: "Asatro", q: "Vad rider Frej p√•?", a: "En gris av guld (Gyllenborste)."},
            {cat: "Asatro", q: "Vem √§r k√§rlekens gudinna?", a: "Freja."},
            {cat: "Asatro", q: "Vem √§r jaktens och vinterns gudinna?", a: "Skade."},
            {cat: "Asatro", q: "Vilka var gudarnas fiender?", a: "J√§ttarna."},
            {cat: "Asatro", q: "Vad hette platsen dit d√∂da krigare kom?", a: "Valhall."},
            {cat: "Asatro", q: "Vad heter grisen man √§ter i Valhall?", a: "S√§rimner (han √•teruppst√•r varje dag)."},
            {cat: "Asatro", q: "Vad kallas det n√§r man offrar till gudarna?", a: "Blota."},
            {cat: "Asatro", q: "N√§r firade man Midvinterblot?", a: "N√§r det var som m√∂rkast (juldagsmorgon ungef√§r)."},
            {cat: "Asatro", q: "Var l√•g den mest k√§nda offerplatsen med stora tr√§d?", a: "Uppsala (Gamla Uppsala)."},
            {cat: "Asatro", q: "Vem var en V√∂lva?", a: "En kvinna som kunde sp√• framtiden."},
            {cat: "Asatro", q: "Vilket f√∂rem√•l beh√∂vde V√∂lvan h√•lla i?", a: "En stav."},

            // Veckodagar & Namn
            {cat: "Namn", q: "Vilken dag √§r Tyrs dag?", a: "Tisdag."},
            {cat: "Namn", q: "Vilken dag √§r Odens dag?", a: "Onsdag."},
            {cat: "Namn", q: "Vilken dag √§r Tors dag?", a: "Torsdag."},
            {cat: "Namn", q: "Vilken dag √§r Friggs dag?", a: "Fredag."},

            // Birka & Handel
            {cat: "Birka", q: "Vad kallas ofta Sveriges f√∂rsta stad?", a: "Birka."},
            {cat: "Birka", q: "Var l√•g Birka?", a: "P√• Bj√∂rk√∂ i M√§laren."},
            {cat: "Birka", q: "Hur m√•nga bodde i Birka?", a: "Ca 700‚Äì1000 personer."},
            {cat: "Birka", q: "Hur skyddade man hamnen?", a: "Med p√•lar i vattnet."},
            {cat: "Handel", q: "Vad √§r 'isl√§ggar' som man hittat i Birka?", a: "Skridskor gjorda av ben."},
            {cat: "Handel", q: "Vilka varor s√•lde vikingarna?", a: "J√§rn, p√§ls, b√§rnsten, horn, slavar."},
            {cat: "Handel", q: "Vilka varor k√∂pte vikingarna?", a: "Siden, silver, glas, kryddor."},
            {cat: "Handel", q: "Vad gjorde en smed?", a: "Gjorde vapen och verktyg av j√§rn."},
            {cat: "Handel", q: "N√§r var det l√§ttast att frakta varor landv√§gen?", a: "P√• vintern (med sl√§de p√• sn√∂/is)."},

            // Skepp & Resor
            {cat: "Skepp", q: "Vad kallas vikingarnas k√§nda krigsskepp?", a: "L√•ngskepp (eller drakskepp)."},
            {cat: "Skepp", q: "Vad satt ofta i f√∂ren (l√§ngst fram)?", a: "Ett snidat drakhuvud."},
            {cat: "Skepp", q: "Vad var seglen gjorda av?", a: "Ull."},
            {cat: "Skepp", q: "Varf√∂r hade skeppen ingen djup k√∂l (var platta under)?", a: "F√∂r att kunna segla p√• grunt vatten/floder."},
            {cat: "Skepp", q: "Hur flyttade man skeppen mellan floder?", a: "Rullade dem p√• stockar."},
            {cat: "Skepp", q: "Hur styrde man skeppet?", a: "Med en styr√•ra (satt p√• h√∂ger sida = styrbord)."},
            {cat: "Resor", q: "Vart reste oftast 'svenska' vikingar?", a: "√ñsterut (Ryssland)."},
            {cat: "Resor", q: "Vad kallades vikingarna i √∂ster?", a: "Ruser (gav namn √•t Ryssland)."},
            {cat: "Resor", q: "Vad kallas staden Konstantinopel av vikingarna?", a: "Miklag√•rd."},
            {cat: "Resor", q: "Vad kallas vikingarnas plundringsresor?", a: "Vikingat√•g."},
            {cat: "Resor", q: "Vad h√§nde vid Lindisfarne √•r 793?", a: "Vikingar plundrade ett kloster (starten p√• vikingatiden)."},
            {cat: "Resor", q: "Vad kallades arabernas land?", a: "S√§rkland."},
            {cat: "Resor", q: "Vad kallades Afrika?", a: "Bl√•land."},
            
            // Uppt√§ckter & V√§st
            {cat: "Uppt√§ckter", q: "Vem uppt√§ckte Gr√∂nland?", a: "Erik R√∂de."},
            {cat: "Uppt√§ckter", q: "Varf√∂r hamnade Erik R√∂de p√• Gr√∂nland?", a: "Han blev landsf√∂rvisad f√∂r dr√•p."},
            {cat: "Uppt√§ckter", q: "Vem seglade f√∂rst till Amerika?", a: "Leif Eriksson (Eriks son)."},
            {cat: "Uppt√§ckter", q: "Vad kallade Leif Eriksson Amerika?", a: "Vinland."},
            {cat: "Uppt√§ckter", q: "Varf√∂r stannade de inte i Amerika?", a: "Br√•k med ursprungsbefolkningen."},
            {cat: "Uppt√§ckter", q: "Vad heter omr√•det i Frankrike som vikingar fick?", a: "Normandie."},
            {cat: "Uppt√§ckter", q: "Vilket engelskt ord kommer fr√•n 'vind√∂ga'?", a: "Window (F√∂nster)."},

            // Kristendomen & Slutet
            {cat: "Slutet", q: "N√§r tog vikingatiden slut?", a: "Ca √•r 1050."},
            {cat: "Slutet", q: "Vilken ny religion kom d√•?", a: "Kristendomen."},
            {cat: "Kristendom", q: "Vad hette munken som kom till Birka?", a: "Ansgar."},
            {cat: "Kristendom", q: "Varf√∂r d√∂pte sig kungarna?", a: "F√∂r att f√• makt och st√∂d fr√•n kyrkan i Europa."},
            {cat: "Kristendom", q: "Vem var Olof Sk√∂tkonung?", a: "Sveriges f√∂rsta kristna kung."},
            {cat: "Kristendom", q: "Vad l√§t Olof Sk√∂tkonung tillverka?", a: "De f√∂rsta svenska mynten."},
            {cat: "Kristendom", q: "Var gjordes de f√∂rsta mynten?", a: "I Sigtuna."},
            {cat: "Fynd", q: "Vem var Kata i Varnhem?", a: "En rik kristen kvinna med egen g√•rd."},
            {cat: "Fynd", q: "Vad var speciellt med Katas grav?", a: "Hon l√•g i en stenkista med runskrift."},
            {cat: "Fynd", q: "Vad visar Jellingestenen?", a: "Hur kung Harald Bl√•tand gjorde danskarna kristna."},
            {cat: "Fynd", q: "Hur begravde man kristna j√§mf√∂rt med asatroende?", a: "Kristna begravdes i kistor (br√§ndes ej)."},

            // K√§llor & Arkeologi
            {cat: "K√§llor", q: "Vad g√∂r en arkeolog?", a: "Gr√§ver upp och unders√∂ker gamla saker."},
            {cat: "K√§llor", q: "Vad g√∂r en osteolog?", a: "Unders√∂ker skelett och ben."},
            {cat: "K√§llor", q: "Vad kan en osteolog se p√• ett skelett?", a: "√Ölder, k√∂n, l√§ngd och sjukdomar."},
            {cat: "K√§llor", q: "Vad kallas vikingarnas bokst√§ver?", a: "Runor."},
            {cat: "K√§llor", q: "Var ristade man oftast runor?", a: "P√• runstenar."},
            {cat: "K√§llor", q: "Vad handlar texten p√• en runsten oftast om?", a: "Minnesord √∂ver n√•gon som d√∂tt (och vem som reste stenen)."},
            {cat: "K√§llor", q: "Vad √§r en 'skriven k√§lla'?", a: "Brev, dagb√∂cker eller lagar som √§r nedskrivna."},
            {cat: "K√§llor", q: "Vem var Ibn Fadlan?", a: "En arabisk resen√§r som skrev om vikingar (och deras tv√§ttvatten)."},
            {cat: "K√§llor", q: "Vem skrev boken Heimskringla?", a: "Snorre Sturlasson (fr√•n Island)."},
            {cat: "K√§llor", q: "√Ñr de isl√§ndska sagorna helt sanna?", a: "Nej, de skrevs ner l√•ngt efter√•t och blandar fakta med saga."},

            // Specifika Bildfynd (fr√•n boken/h√§ftet)
            {cat: "Bildspaning", q: "Vad √§r Anundsh√∂g?", a: "Sveriges st√∂rsta gravh√∂g (och tingsplats)."},
            {cat: "Bildspaning", q: "Hj√§lmen fr√•n Vendel har inga horn, men vad har den?", a: "Dekorationer och skydd f√∂r √∂gonen."},
            {cat: "Bildspaning", q: "Vad √§r en Megalitgrav?", a: "En grav av stora stenblock (fr√•n Sten√•ldern, inte Vikingatid)."},
            {cat: "Bildspaning", q: "Var hittades √§lghuvudet av sten?", a: "I Alunda (men kom troligen fr√•n Ryssland/Karelen)."},
            {cat: "Bildspaning", q: "Vad f√∂rest√§ller schackpj√§sen p√• sidan 86?", a: "En vikingasoldat med sk√∂ld."},
            {cat: "Bildspaning", q: "Vad visar runstenen i Sl√§bro?", a: "Ett ansikte (mask) och en ormslinga."},
            {cat: "Bildspaning", q: "Vad ser man p√• myntet Olof Sk√∂tkonung gjorde?", a: "Kungen p√• ena sidan, ett kors p√• andra."}
        ];

        // --- LOGIK ---
        let currentQuiz = [...fullQuizData];
        let currentIndex = 0;
        let isFlipped = false;
        let autoPlayTimer = null;

        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        function updateCard() {
            // Avbryt eventuell timer
            clearTimeout(autoPlayTimer);

            const card = document.getElementById('card');
            const qText = document.getElementById('question');
            const aText = document.getElementById('answer');
            const cText = document.getElementById('counter');
            const catText = document.getElementById('category');
            const pBar = document.getElementById('progress-bar');
            
            // √Öterst√§ll till framsida
            card.classList.remove('flipped');
            isFlipped = false;

            // Liten f√∂rdr√∂jning f√∂r snygg textuppdatering
            setTimeout(() => {
                let item = currentQuiz[currentIndex];
                qText.innerText = item.q;
                aText.innerText = item.a;
                cText.innerText = `Fr√•ga ${currentIndex + 1} av ${currentQuiz.length}`;
                catText.innerText = item.cat;
                
                // Uppdatera knappar
                document.querySelector('.btn-prev').disabled = (currentIndex === 0);
                document.querySelector('.btn-next').disabled = (currentIndex === currentQuiz.length - 1);
                
                // Uppdatera progress bar
                let pct = ((currentIndex + 1) / currentQuiz.length) * 100;
                pBar.style.width = pct + "%";
            }, 200);
        }

        function flipCard() {
            const card = document.getElementById('card');
            const autoplay = document.getElementById('autoplay').checked;

            if (!isFlipped) {
                // V√§nd fram baksidan
                card.classList.add('flipped');
                isFlipped = true;

                // Om autospelning √§r p√•, v√§nta 3 sek och g√• vidare
                if (autoplay && currentIndex < currentQuiz.length - 1) {
                    autoPlayTimer = setTimeout(() => {
                        nextCard();
                    }, 3500);
                }
            } else {
                // Om man klickar igen n√§r den √§r v√§nd -> v√§nd tillbaka
                card.classList.remove('flipped');
                isFlipped = false;
                clearTimeout(autoPlayTimer);
            }
        }

        function nextCard() {
            if (currentIndex < currentQuiz.length - 1) {
                currentIndex++;
                updateCard();
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
                updateCard();
            }
        }

        function shuffleData() {
            // Fisher-Yates shuffle
            for (let i = currentQuiz.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentQuiz[i], currentQuiz[j]] = [currentQuiz[j], currentQuiz[i]];
            }
            currentIndex = 0;
            updateCard();
            // Liten visuell feedback
            alert("Kortleken √§r nu blandad!");
        }

        function toggleAutoplay() {
            // Nollst√§ll timer om man st√§nger av
            if (!document.getElementById('autoplay').checked) {
                clearTimeout(autoPlayTimer);
            }
        }

        // Starta vid laddning
        window.onload = updateCard;

    </script>
</body>
</html>
